<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit√† 1 - Parlo Italiano</title>
    <script>
        if (sessionStorage.getItem("accesso_effettuato") !== "true") {
            window.location.href = "index.html";
        }
    </script>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="menuBtn" class="menu-btn" onclick="toggleMenu()">‚ò∞</div>
    <div id="overlayBg" class="overlay-bg" onclick="toggleMenu()"></div>

    <div id="mySidebar" class="sidebar">
        <a href="javascript:void(0)" class="close-btn" onclick="toggleMenu()">√ó</a>
        <a href="index.html" style="background-color: #f1f1f1; border-bottom: 1px solid #ddd;">‚¨Ö Torna alla Dashboard</a>
        <h3>UNITA' 1</h3>
        <p>Indice lezione / –ü–ª–∞–Ω —É—Ä–æ–∫–∞</p>
        <a onclick="showSection('sec-pres')" id="link-pres" class="active">üëã Presentazione <span class="ru-menu">–í–≤–µ–¥–µ–Ω–∏–µ</span></a>
        <a onclick="showSection('sec-dial')" id="link-dial">üé¨ Dialoghi <span class="ru-menu">–î–∏–∞–ª–æ–≥–∏</span></a>
        <a onclick="showSection('sec-testo')" id="link-testo">üìñ Testo <span class="ru-menu">–¢–µ–∫—Å—Ç</span></a>
        <a onclick="showSection('sec-storia')" id="link-storia">‚úçÔ∏è Racconto <span class="ru-menu">–ò—Å—Ç–æ—Ä–∏—è</span></a>
        <a onclick="showSection('sec-negativa')" id="link-gramm">üìê Grammatica <span class="ru-menu">–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</span></a>
        <a onclick="showSection('sec-eser')" id="link-eser">üó£Ô∏è Esercizi <span class="ru-menu">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</span></a>
    </div>

    <div id="main-wrapper">
        <div id="sec-pres" class="section-block active">
            <div class="card">
                <header>
                    <div class="header-course">Corso di Italiano A1</div>
                    <h1 class="header-main-title">Unit√† 1: Introduzione</h1>
                    <div class="ru-block">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</div>
                </header>
                <div class="content">
                    <div class="welcome-text" style="text-align: center; margin-bottom: 30px;">
                        <p><strong>–î–æ—Ä–æ–≥–∏–µ —Å—Ç—É–¥–µ–Ω—Ç—ã!</strong> –ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–π —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.</p>
                    </div>
                    <div style="text-align: center; margin-bottom: 40px;">
                        <a onclick="showSection('sec-dial')" class="btn-nav btn-start">INIZIA LA LEZIONE ‚ûî<br><span style="font-size: 0.8rem;">(–ù–ê–ß–ê–¢–¨ –£–†–û–ö)</span></a>
                    </div>
                </div>
            </div>
        </div>

        <div id="sec-dial" class="section-block">
            <div class="card">
                <header><h1 class="header-main-title">Dialogo 1</h1></header>
                <div class="content">
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/UT5tYRPrMoY" frameborder="0" allowfullscreen></iframe>
                    </div>
                    <div class="nav-buttons-container">
                        <button class="btn-nav btn-next" onclick="showSection('sec-dial2')">Dialogo 2 ‚ûî</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="sec-dial2" class="section-block">
            <div class="card">
                <header><h1 class="header-main-title">Dialogo 2</h1></header>
                <div class="content">
                    <div class="video-container">
                        <iframe src="https://www.youtube.com/embed/iFQhfdwgNtA" frameborder="0" allowfullscreen></iframe>
                    </div>
                    <button class="btn-nav btn-next" onclick="showSection('sec-testo')">Testo ‚ûî</button>
                </div>
            </div>
        </div>

        <div id="sec-testo" class="section-block">
            <div class="card">
                <header><h1 class="header-main-title">I Nostri Studenti</h1></header>
                <div class="content">
                    <p>La scuola "Parlo Italiano" √® ad Almaty. √à una scuola moderna.</p>
                    <button class="btn-nav btn-next" onclick="showSection('sec-storia')">Racconto ‚ûî</button>
                </div>
            </div>
        </div>

        <div id="sec-storia" class="section-block">
            <div class="card" style="border: 2px solid #f39c12; background: #fffcf5;">
                <header>
                    <h1 class="header-main-title" style="color: #d35400;">Raccontami una storia</h1>
                </header>
                <div class="content">
                    <p><b>Usa questo schema:</b> Ciao, ti presento la mia scuola... La scuola √®... Aigerim √®... Kirill √®...</p>
                    <textarea id="ai-story-input" class="ai-input" rows="8" placeholder="Scrivi qui il tuo racconto..." style="width: 100%; box-sizing: border-box;"></textarea>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="btn-nav" style="background-color: #8e44ad;" onclick="checkStoryWithAI()">‚ú® Antonio, correggi il mio testo!</button>
                    </div>

                    <div id="ai-feedback-story" style="display:none; margin-top: 20px; background: white; padding: 15px; border-radius: 10px; border-left: 5px solid #8e44ad;">
                        <div id="ai-loader-story" style="display:none; text-align:center;">ü§ñ Antonio sta leggendo...</div>
                        <div id="ai-response-story" style="white-space: pre-wrap;"></div>
                    </div>

                    <div class="nav-buttons-container" style="margin-top: 40px;">
                        <button class="btn-nav btn-next" onclick="showSection('sec-negativa')">Grammatica ‚ûî</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="sec-negativa" class="section-block">
            <div class="card">
                <header><h1 class="header-main-title">La Frase Negativa</h1></header>
                <div class="content">
                    <div id="ex-negativa-container" class="exercises-list">
                        <div class="neg-item">1. Kirill √® uzbeko? <br> Kirill <input type="text" class="input-inline short" data-answer="non"> √® uzbeko. Kirill √® <input type="text" class="input-inline medium" data-answer="russo">.</div>
                    </div>
                    <button class="btn-nav btn-check" onclick="checkWrittenExercises()">Controlla Risposte üìù</button>

                    <div id="writing-challenge-ai" style="background: #fdfefe; border: 2px solid #8e44ad; border-radius: 15px; padding: 20px; margin-top: 40px;">
                        <h3 style="color: #8e44ad; text-align: center;">‚úçÔ∏è Ora scrivi tu!</h3>
                        <div class="input-group-ai"><label>1. Aigerim √® russa. ‚ùå</label><input type="text" id="sent-aig" class="ai-input" placeholder="Aigerim non √® russa, √®..."></div>
                        <div class="input-group-ai"><label>2. Kirill √® studente. ‚ùå</label><input type="text" id="sent-kir" class="ai-input" placeholder="Kirill non √® studente, √®..."></div>
                        <div class="input-group-ai"><label>3. Zarina √® inglese. ‚ùå</label><input type="text" id="sent-zar" class="ai-input" placeholder="Zarina non √® inglese, √®..."></div>
                        <div class="input-group-ai"><label>4. Bekzat studia per turismo. ‚ùå</label><input type="text" id="sent-bek" class="ai-input" placeholder="Bekzat non studia per turismo..."></div>
                        
                        <div style="text-align: center; margin-top: 20px;">
                            <button class="btn-nav" style="background-color: #8e44ad;" onclick="checkSentencesWithAI()">‚ú® Verifica con AI</button>
                        </div>
                        <div id="ai-sentence-feedback" style="display:none; margin-top: 20px; background: #f4f6f7; padding: 15px; border-radius: 10px;">
                            <div id="ai-loader-sent" style="display:none; text-align:center;">ü§ñ Controllo...</div>
                            <div id="ai-response-text"></div>
                        </div>
                    </div>
                    <button class="btn-nav btn-next" onclick="showSection('sec-eser')">Fine ‚ûî</button>
                </div>
            </div>
        </div>

        <div id="sec-eser" class="section-block">
            <div class="card"><div class="content" style="text-align: center;"><h2>üéâ Lezione Completata!</h2><a href="index.html" class="btn-nav">Dashboard</a></div></div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
